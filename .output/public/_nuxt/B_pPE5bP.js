import{b as w}from"./DJWPx0sY.js";import{_ as k}from"./BN0IEAgO.js";import{r as _,j as E,k as S,h as r,o as l,c,a as s,F as v,I as V,b as C,P as h,H as N,w as A,n as f,g,q as x,d as L,t as j,l as B,U as R}from"./BlO5hWX2.js";const $={class:""},z={class:"grid max-md:grid-cols-2 grid-cols-4 gap-1"},G=["href"],T={class:"w-full max-md:h-48 h-72 rounded-md"},D=s("span",{class:""},"Voir plus images ",-1),F=s("i",{class:"ri-arrow-right-line"},null,-1),H=[D,F],P={key:1,class:"flex justify-center"},U=s("span",{class:""},"Voir plus ",-1),q=s("i",{class:"ri-arrow-right-line"},null,-1),O=[U,q],J={__name:"card.activity",props:["start","end","size"],setup(K){const y=async()=>{const{findMany:e}=await B(R.ACTIVITES,"portfolio"),{data:o}=await e();o&&(r().portfolio=o.data.activites)},a=_([]),u=_([]),n=_(16),b=E(()=>{n.value&&(a.value=u.value.slice(0,n.value))}),m=()=>{var e;r().portfolio.forEach(o=>{o==null||o.medias.forEach(d=>{var i;a.value.push(d),a.value=(i=a.value)==null?void 0:i.reverse()})}),u.value=(e=a.value)==null?void 0:e.reverse()};return S(()=>{var e;((e=r().portfolio)==null?void 0:e.length)==0&&y().then(()=>{m()}),m()}),(e,o)=>{var p;const d=w,i=k;return l(),c(v,null,[s("div",$,[s("div",z,[(l(!0),c(v,null,V(a.value,t=>(l(),c("div",null,[s("a",{href:t==null?void 0:t.original_url,target:"_blank"},[s("div",T,[C(d,{sizes:"100vw sm:50vw md:400px",placeholder:[30,20],src:t==null?void 0:t.original_url,class:"rounded-md w-full h-full object-cover"},null,8,["src"])])],8,G)]))),256))]),(e._.provides[h]||e.$route).path!="/activity"?(l(),N(i,{key:0,to:"/activity",class:"flex justify-center"},{default:A(()=>{var t;return[s("button",{style:f("background-color: "+((t=g(r)().users)==null?void 0:t.color_1)),class:"px-4 py-3 flex items-center gap-2 text-base rounded-md text-white underline font-bold mt-5"},H,4)]}),_:1})):x("",!0),(e._.provides[h]||e.$route).path=="/activity"&&u.value.length>=n.value?(l(),c("div",P,[s("button",{onClick:o[0]||(o[0]=t=>n.value=n.value+8),style:f("background-color: "+((p=g(r)().users)==null?void 0:p.color_1)),class:"px-4 flex items-center gap-2 text-base py-2 rounded-md text-white font-bold mt-5"},O,4)])):x("",!0)]),L(" "+j(b.value),1)],64)}}},Y=J;export{Y as _};
